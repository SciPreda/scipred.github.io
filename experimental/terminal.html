<!DOCTYPE html>
<html><head>
<title>SciPred's Terminal 2020</title>
<style>
html {background-color:black;color:#00E600;font-size:20px;font-family:"Courier",Courier New,monospace;width:100%;height:100%;margin:0;}
blockquote {width:97%;margin:auto;height:460px;border:2px solid gray;padding:10px;overflow:auto;}
::-webkit-scrollbar {width:15px;}
::-webkit-scrollbar-track {background:black}
::-webkit-scrollbar-thumb {background:#00E600; border: 1px dashed green;}
</style>
</head><body>
	<h1 style="text-align:center;">Terminal: An Experimental Document By SciPred</h1>
	<blockquote id="bq">
		<div>START</div>
	</blockquote>
	<input type="text" id="inputbar" style="color:green;width:99%;background-color:#000200;margin:auto;font-size:25px;padding:5px"></input>
	<button onclick="code()" style="display:none" id="myBtn"></button>

<script>
var input = document.getElementById("inputbar");
function create(txt) {var a=document.createElement("DIV"),b=document.createTextNode(txt);a.appendChild(b);document.getElementById("bq").appendChild(a);}
function createError(txt) {var a=document.createElement("DIV"),b=document.createTextNode(txt);a.style.color="red";a.appendChild(b);document.getElementById("bq").appendChild(a);}
function createNote(txt) {var a=document.createElement("DIV"),b=document.createTextNode(txt);a.style.color="blue";a.appendChild(b);document.getElementById("bq").appendChild(a);}
function createWarn(txt){var a=document.createElement("DIV"),b=document.createTextNode("WARNING: "+txt);a.style.color="yellow";a.appendChild(b);document.getElementById("bq").appendChild(a);}
input.addEventListener("keyup", function(event) {
		if (event.keyCode === 13) {
		event.preventDefault();
		document.getElementById("myBtn").click();
	}
});

createWarn("Commands are case-sensitive. Double-check your inputs before pressing Enter.");

function conv(b) {return b === true ? "On" : "Off";}
function scrbtm() {var DIV = document.getElementById("bq"); DIV.scrollTop = DIV.scrollHeight - DIV.clientHeight;}

var DOWNLOADED = {
	allColor: false
};

function code() {
	var val = input.value;
	create("scipred-$ "+val);
	input.value = null;
	var existing = 0;
	//1. Help Menu
	if (val === "help" || val === "?") {
		existing = 1;
		create("----------HELP MENU----------");
		if (DOWNLOADED.allColor) {create("allColor {color} - changes the document color.");}
		create("clear - clears the terminal.");
		create("clearStart - clears the terminal, including the START indicator.");
		create("codeColor {color} - changes the color of the code.");
		create("download {cmd} - downloads a command.");
		create("get {data} - retrieves desired information.");
		create("help - displays the help menu for commands.");
		create("note {msg} - shows a note with the desired contents.");
		create("? - displays the help menu for commands.");
	}
	//2. StartsWith
	if (val.startsWith("allColor ") && DOWNLOADED.allColor) {
		if (val === "allColor normal") {
			existing = 1;
			document.body.style.color="#00E600";
			create("Document color was reduced to normal.");
		} else {
			existing = 1;
			var str = val.slice(9, val.length);
			document.body.style.color=str;
		    create("Code color was changed to " + str + ".");
		}
	} else if (val.startsWith("codeColor ")) {
		if (val === "codeColor normal") {
			existing = 1;
			document.getElementById("bq").style.color="#00E600";
			create("Code color was reduced to normal.");
		} else {
			existing = 1;
			var str = val.slice(10, val.length);
			document.getElementById("bq").style.color=str;
		    create("Code color was changed to " + str + ".");
		}
	} else if (val.startsWith("get ")) {
		str = val.slice(4, val.length);
		if (str === "code_type") {
			existing = 1;
			create("HTML");
		}
		if (str === "code_types") {
			existing = 1;
			create("HTML, CSS, JS");
		}
		if (str === "connection") {
			existing = 1;
			create("Connection: " + conv(navigator.onLine));
		}
		if (str === "creator") {
			existing = 1;
			create("SciPred");
		}
		if (str === "userAgent") {
			existing = 1;
			create("User Agent: " + navigator.userAgent);
		}
		if (str === "version") {
			existing = 1;
			create("Terminal v1.001");
		}
	} else if (val.startsWith("note ")) {
		existing = 1;
		var str =  val.slice(5, val.length);
		createNote(str);
	}
	//3. Download
	if (val === "download allColor") {
		if (DOWNLOADED.allColor) {
			existing = 1;
			createWarn("You already downloaded this command!");
		} else {
			existing = 1;
			var i = 0;
			var msgarray = [
				"Download starting...",
				"Downloading package...",
				"Downloaded: allColor",
				"Downloaded: allColor definition",
				"Downloaded: allColor function",
				"Downloaded: allColor insertToCode",
				"Downloaded: allColor normal",
				"Downloaded: allColor online",
				"Downloaded: color",
				"Downloaded: color CSS",
				"Downloaded: support",
				"Downloaded: 32-bit support",
				"Downloaded: 64-bit support",
				"Cleaning JavaScript...",
				"Extracting to Terminal...",
				"Booting up...",
				"Download Success"
			];
			if (navigator.onLine === false) {
				msgarray[7] = "Error: could not properly download allColor online";
			}
			function clr() {
				clearInterval(interval);
				DOWNLOADED.allColor = 1;
			}
			function addIndex() {i++;}
			var interval = setInterval(function(){
				if (msgarray[i].startsWith("Error:") === false) {
					create(msgarray[i]);
				} else {
					createError(msgarray[i]);
				}
				if (i === msgarray.length - 1 || i > msgarray.length - 1) {clr();}
				addIndex();
				scrbtm();
			}, 50);
		}
	}
	//4. Exact
	if (val === "clear") {
		existing = 1;
		document.getElementById("bq").innerHTML = "<div>START</div>";
	} else if (val === "clearStart") {
		existing = 1;
		document.getElementById("bq").innerHTML = "";
	}
	//Def. Otherwise
	if (existing === 0) {
		createError("Unknown command. Type 'help' for a list of commands.");
	}
	//Scroll Def
	scrbtm();
}
</script>
</body>
</html>