<!doctype html>
<html>
<head>
<title>loading test</title>
<meta charset="UTF-8">
<meta name="description" content="Navigation Tester. Somewhat dangerous">
<meta name="author" content="SciPred">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html, body {
	width: 100%;
	height: 100%;
	margin: 0;
	background: black;
	color: white;
	text-align: center;
	font-family: "Courier", Courier New, monospace;
}
button {
	color: black;
	background: white;
	border: 5px solid #00e600;
}
p {
	color: #00e600;
}
</style>
</head>
<body>
	<h1>LOADING TEST</h1>
	<h2>A simple experiment by SciPred</h2>
	<button onclick="startLoading()" id="btn">START</button>

<script>
function gID(id) {return document.getElementById(id);}
function scrbtm() {var DIV = document.body; DIV.scrollTop = DIV.scrollHeight - DIV.clientHeight;}
function newP(content, color, id) {
	var p = document.createElement("P");
	p.innerText = content;
	if (color !== undefined) {p.style.color = color;}
	if (id !== undefined) {p.id = id;}
	document.body.appendChild(p);
	scrbtm();
	return p;
}
function stime(ms, content, color, id) {
	setTimeout(function(){newP(content, color, id)}, ms);
}
function schange(ms, content, color, id) {
	setTimeout(function(){
		gID(id).innerText = content;
		if (color !== undefined) {gID(id).style.color = color;}
	}, ms);
}
function starray(arr) {
	var t = 0;
	for (var i=0; i<arr.length; i+=2) {
		let content = arr[i][0];
		let color = arr[i][1] === undefined ? undefined : arr[i][1];
		let id = arr[i][2] === undefined ? undefined : arr[i][2];
		let change = arr[i][3] === true ? true : false;
		let ms = arr[i + 1];
		t += ms;
		if (change === false) {stime(t, content, color, id);}
		else {schange(t, content, color, id);}
	}
}
function startLoading() {
	gID("btn").style.display = "none";
	newP("STARTING LOADING PROCESS", "yellow");
	newP("TEST: BOOT");
	starray([
		["Process Load: Function"], 500,
		["Process Load: Execution"], 100,
		["Process Load: Iteration"], 100,
		["Compiling Required Data", "yellow", "compiledata"], 250,
		["Compiling Required Data.", undefined, "compiledata", true], 1000,
		["Compiling Required Data..", undefined, "compiledata", true], 1000,
		["Compiling Required Data...", undefined, "compiledata", true], 1000,
		["Data Compiled", "#00e600", "compiledata", true], 1000,
		["Dispatch Event: execution"], 250,
		["Variable For Use: navigator"], 300,
		["Accessing Variable Library...", "yellow", "navaccess"], 100
	]);
	setTimeout(function(){
		if (window.navigator === undefined) {
			schange(100, "ERROR: Variable not supported. Process cannot continue.", "red", "navaccess");
			stime(500, "Your browser does not support software navigation. Please try again on a different browser or platform.");
		} else {
			starray([
				["Variable Accessed: navigator", "#00e600", "navaccess", true], 100,
				["NOTE: Some values may be missing due to unsupported data.", "yellow"], 100,
				["Starting Read Program", "yellow"], 200,
				["APPCODENAME: " + navigator.appCodeName], 1500,
				["NAME: " + navigator.appName], 100,
				["VERSION: " + navigator.appVersion], 100,
				["COOKIES: " + navigator.cookieEnabled], 100,
				["DEVICEMEM: " + navigator.deviceMemory], 100,
				["HARDWARECONC: " + navigator.hardwareConcurrency], 100,
				["JAVA: " + navigator.javaEnabled()], 100,
				["LANG: " + navigator.language], 100,
				["LANGS: " + navigator.languages], 100,
				["MAXTOUCH: " + navigator.maxTouchPoints], 100,
				["ONLINE: " + navigator.onLine], 100,
				["PLATFORM: " + navigator.platform], 100,
				["PRODUCT: " + navigator.product], 100,
				["PRODUCTSUB: " + navigator.productSub], 100,
				["USERAGENT: " + navigator.userAgent], 100,
				["VENDOR: " + navigator.vendor], 100,
				["VENDORSUB: " + navigator.vendorSub], 100,

				["CONNECTIONDOWNLINK" + navigator.connection.downlink], 100,
				["CONNECTIONEFFECTIVE" + navigator.connection.effectiveType], 100,
				["CONNECTIONRTT" + navigator.connection.rtt], 100,
				["CONNECTIONSAVE" + navigator.connection.saveData], 100,

				["Information Successfully Retrieved."], 500,
				["Process Ended.", "yellow"], 200
			]);
		}
	}, 5700);
}
</script>
</body>
</html>